<!DOCTYPE html>
<%@page language="PL/SQL"%>
<%@plsql procedure="PAGE_COURSE_WORK_CURSOR"%>
<%@plsql parameter="RESUMATOR_ID_VAL" DEFAULT="NULL"%>

<%!CURSOR COURSE_CURSOR IS

SELECT COURSE_WORK.COURSE_TITLE, COURSE_WORK.COURSE_NUMBER, COURSE_WORK.COURSE_DESC, COURSE_WORK.DISPLAY_RANK
FROM COURSE_WORK
WHERE COURSE_WORK.RESUMATOR_ID = RESUMATOR_ID_VAL
ORDER BY DISPLAY_RANK;

COURSE_COUNTER INTEGER := 0;
COURSE_ROW COURSE_CURSOR%ROWTYPE;
%>
                    <section id="academic">
            <h4>Academic Coursework: <a href="#add-academic-course-modal" data-toggle="modal"><i class="icon-plus"> </i></a> <a href="#edit-academic-course-modal" data-toggle="modal"><i class="icon-pencil"> </i></a> </h4>

            <div class="row"><!-- academic coursework row -->
<%
OPEN COURSE_CURSOR;
LOOP
FETCH COURSE_CURSOR INTO COURSE_ROW;
EXIT WHEN COURSE_CURSOR%NOTFOUND;%>            
             <!-- loop through academic coursework 5 max -->
                <%IF(COURSE_COUNTER < 4) THEN COURSE_COUNTER := COURSE_COUNTER + 1;%>
                <div class="span4">
                  <ul>
                     <li><%=COURSE_ROW.COURSE_TITLE%></li>
                  </ul>
                </div>
                <%ELSIF(COURSE_COUNTER >= 4 AND COURSE_COUNTER < 9) THEN COURSE_COUNTER := COURSE_COUNTER + 1;%>
                <div class="span4">
                  <ul>
                     <li><%=COURSE_ROW.COURSE_TITLE%></li>
                  </ul>
                </div><!-- end loop -->
<%
END IF;
END LOOP;
CLOSE COURSE_CURSOR;%>  
            </div><!-- end academic coursework row -->

          </section>
          <hr>  

          <!-- ADD ACADEMIC COURSE MODAL -->

  <div id="add-academic-course-modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
      <h3 id="myModalLabel">Add Academic Information</h3>
    </div>
    <div class="modal-body">
      <form action="http://oracle.is.umbc.edu:8080/classpsp/IS420_TEAM_TRG.FORM_COURSE_WORK" method="get">
          <div class="form-inline margin-form-inline">
            <input class="span3" type="text" placeholder="Course Title">
            <input class="span2" type="text" placeholder="Course Number">
          </div>

          <textarea class="max-width" rows="3" placeholder="Course description goes here."></textarea>

      </form>
    </div>
    <div class="modal-footer">
      <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
      <button class="btn btn-primary">Save changes</button>
    </div>
  </div>


<!-- EDIT ACADEMIC COURSE MODAL -->

  <div id="edit-academic-course-modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
      <h3 id="myModalLabel">Edit Academic Information</h3>
    </div>
    <div class="modal-body">
      <form action="http://oracle.is.umbc.edu:8080/classpsp/IS420_TEAM_TRG.FORM_COURSE_WORK" method="get">
          <div class="form-inline margin-form-inline">
            <input class="span3" type="text" placeholder="Course Title">
            <input class="span2" type="text" placeholder="Course Number">
          </div>

          <textarea class="max-width" rows="3" placeholder="Course description goes here."></textarea>

      </form>
    </div>
    <div class="modal-footer">
      <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
      <button class="btn btn-primary">Save changes</button>
    </div>
  </div>
