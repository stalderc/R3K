<!DOCTYPE html>
<%@page language="PL/SQL"%>
<%@plsql procedure="PAGE_TECHNICAL_SKILLS_CURSOR"%>
<%@plsql parameter="RESUMATOR_ID_VAL" DEFAULT="NULL"%>

<%!CURSOR TECHNICAL_SKILLS_CURSOR IS

SELECT SKILLS.SKILL_NAME, SKILLS.SKILL_TYPE 
FROM SKILLS, USERSSKILLS
WHERE SKILLS.SKILL_ID = USERSSKILLS.SKILL_ID
AND USERSSKILLS.RESUMATOR_ID = RESUMATOR_ID_VAL
AND SKILLS.SKILL_TYPE = 'TECHNICAL';

TECHNICAL_SKILLS_COUNTER INTEGER := 0;
TECHNICAL_SKILLS_ROW TECHNICAL_SKILLS_CURSOR%ROWTYPE;
%>


            <%OPEN TECHNICAL_SKILLS_CURSOR;
LOOP
FETCH TECHNICAL_SKILLS_CURSOR INTO TECHNICAL_SKILLS_ROW;
EXIT WHEN TECHNICAL_SKILLS_CURSOR%NOTFOUND;%>  
               <!-- loop through academic coursework 5 max -->
                <%IF TECHNICAL_SKILLS_COUNTER < 4 THEN TECHNICAL_SKILLS_COUNTER := TECHNICAL_SKILLS_COUNTER + 1;%>
                <div class="span4">
                  <ul>
                     <li><%=TECHNICAL_SKILLS_ROW.SKILL_NAME%></li>
                  </ul>
                </div>
                <%ELSIF TECHNICAL_SKILLS_COUNTER >= 4 AND TECHNICAL_SKILLS_COUNTER < 9  THEN TECHNICAL_SKILLS_COUNTER := TECHNICAL_SKILLS_COUNTER + 1;%>
                <div class="span4">
                  <ul>
                     <li><%=TECHNICAL_SKILLS_ROW.SKILL_NAME%></li>
                  </ul>
                </div> 
<%
END IF;
END LOOP;

CLOSE TECHNICAL_SKILLS_CURSOR;%>

<!-- ADD TECHNICAL SKILLS MODAL -->

  <div id="add-technical-skills-modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
      <h3 id="myModalLabel">Add Technical Skills Information</h3>
    </div>
    <div class="modal-body">
      <form action="http://oracle.is.umbc.edu:8080/classpsp/IS420_TEAM_TRG.FORM_ADD_SKILLS" method="get">
          <div class="form-inline margin-form-inline">
            <input class="span3" type="hidden" name="RESUMATOR_ID_IN" value="<%=RESUMATOR_ID_VAL%>">
            <input class="span3" type="hidden" name="SKILL_TYPE_IN" value="Technical">
            <input class="span2" type="text" name="SKILL_NAME_IN" placeholder="Skill Name">
            <select class="span2" type="text" name="DISPLAY_RANK_IN">
              <option>Display Rank</option>
              <option value="1">1 - High</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 - Low</option>
            </select>
          </div> 
    </div>
    <div class="modal-footer">
      <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
      <button class="btn btn-primary" type="submit">Save changes</button>
    </div>
    </form>
  </div>


<!-- EDIT TECHNICAL SKILLS MODAL -->

  <div id="edit-technical-skills-modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
      <h3 id="myModalLabel">Edit Technical Skills Information</h3>
    </div>
    <div class="modal-body">
      <form action="http://oracle.is.umbc.edu:8080/classpsp/IS420_TEAM_TRG.FORM_SKILLS" method="get">
          <div class="form-inline margin-form-inline">
            <input class="span3" type="hidden" id="RESUMATOR_ID_IN" name="RESUMATOR_ID_IN" value="<%=RESUMATOR_ID_VAL%>">
            <input class="span3" type="text" id="SKILL_TYPE_IN" name="SKILL_TYPE_IN" placeholder="Skill Type">
            <input class="span2" type="text" id="SKILL_NAME_IN" name="SKILL_NAME_IN" placeholder="Skill Name">
          </div>
          <div class="form-inline margin-form-inline">
           <input class="span2" type="text" id="DISPLAY_RANK_IN" name="DISPLAY_RANK_IN"placeholder="Display Rank">          
          </div>
    </div>
    <div class="modal-footer">
      <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
      <button class="btn btn-primary" type="submit">Save changes</button>
    </div>
    </form>
  </div>
